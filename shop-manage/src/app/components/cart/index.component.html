<div margin="10">
<h3>Orders</h3>
<table border="1" class="table table-striped table-dark">
    <tr>
        <th>Name</th>
        <th>Last edited:</th>
        <th>State</th>
        <th>Products</th>
        <th>Update</th>
    </tr>
    <tr *ngFor="let order of orders">
        
        <td>{{order.userName}}</td>
        <td>{{order.date}}</td>
        <td>
            <p>{{order.loadedState.name}}</p>
            <select [(ngModel)]="order.state" (ngModelChange)="onChangeObj(order)" class="form-control selcls">
                <option *ngFor="let s of states" [ngValue]="s" [selected]="s.name == order.state">{{s.name}}</option>
            </select>
        </td>
        <td align="center">
            <table>
                    <th>Name</th>
                    <th>Price</th>
                    <th>Amount</th>
                    
                <tr *ngFor="let product of order.products">
                    <td>{{product.product.name}}</td>
                    <td>{{product.product.price}}</td>
                    <td>{{product.amount}}</td>
                </tr>
                <tr>
                    <td colspan="2">Total:</td>
                    
                    <td>{{order.total}}</td>
                </tr>
            </table>
        </td>
        <td>
            <button [disabled]="!order.isValid" (click)="onConfirm(order)">Update</button>
        </td>
    </tr>
    
</table>
<h3>Orders</h3>
<select [(ngModel)]="selectedState" (ngModelChange)="onChangeState()" class="form-control selcls">
    <option *ngFor="let s of states" [ngValue]="s">{{s.name}}</option>


</select>

<table border="1" class="table table-striped table-dark">
    <tr>
        <th>Name</th>
        <th>Date</th>
        <th>State</th>
        <th>Total</th>
    </tr>
    <tr *ngFor="let order of filteredOrders">
        
        <td>{{order.userName}}</td>
        <td>{{order.date}}</td>
        <td>{{order.state.name}}</td>
        <td>{{order.total}}</td>
    </tr>
    
</table>